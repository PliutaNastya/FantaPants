(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);const t=document.querySelector(".button");if(t){function B(){const e=7*Math.random()+5;t.classList.add("attention"),setTimeout((()=>{t.classList.remove("attention"),setTimeout(B,1e3*e)}),1500)}B()}document.querySelector(".icon-menu")&&document.addEventListener("click",(function(e){e.target.closest(".icon-menu")&&document.documentElement.classList.toggle("menu-open"),e.target.closest(".menu")&&document.documentElement.classList.contains("menu-open")&&document.documentElement.classList.remove("menu-open")})),document.querySelectorAll(".did-you-know__fact-card").forEach((e=>{e.addEventListener("click",(()=>{const t=e.querySelector(".did-you-know__card-inner");t.style.transform="rotateY(180deg)"===t.style.transform?"rotateY(0deg)":"rotateY(180deg)"}))}));const n=document.getElementById("game-container"),o=document.getElementById("character"),s=document.createElement("div");s.classList.add("cursor"),document.body.appendChild(s);let l,a,i=20;const d=document.createElement("div");d.style.position="absolute",d.style.top="5%",d.style.right="10%",d.style.fontSize="24px",d.style.color="#fff",d.textContent=`Time: ${i}`,n.appendChild(d);const c=document.createElement("div");c.style.position="absolute",c.style.top="50%",c.style.left="50%",c.style.transform="translate(-50%, -50%)",c.style.fontSize="36px",c.style.textAlign="center",c.style.display="none",c.textContent="Game Over",n.appendChild(c);const r=document.createElement("button");function u(){i--,d.textContent=`Time: ${i}`,i<=0&&(clearInterval(l),clearInterval(a),o.style.display="none",c.style.display="block",setTimeout((()=>{c.style.display="none",r.style.display="block"}),1e3))}function m(){const e=Math.random()*(n.offsetWidth-80),t=Math.random()*(n.offsetHeight-80);o.style.left=`${e}px`,o.style.top=`${t}px`}function y(e,t){const o=n.getBoundingClientRect(),s=e-o.left,l=t-o.top;console.log(`Splash created at: (${s}, ${l})`);const a=document.createElement("div");a.style.position="absolute",a.style.width="70px",a.style.height="70px",a.style.backgroundImage="url('./img/game/splash.webp')",a.style.backgroundSize="contain",a.style.backgroundRepeat="no-repeat",a.style.borderRadius="50%",a.style.pointerEvents="none",a.style.left=s-25+"px",a.style.top=l-25+"px",a.style.zIndex="9999",n.appendChild(a),setTimeout((()=>{console.log("Splash removed"),a.remove()}),1e3)}r.textContent="Start Game",r.style.position="absolute",r.style.top="50%",r.style.left="50%",r.style.transform="translate(-50%, -50%)",r.style.padding="10px 20px",r.style.textAlign="center",r.style.fontSize="36px",r.style.cursor="pointer",r.style.display="block",n.appendChild(r),document.addEventListener("mousedown",(e=>{const t=n.getBoundingClientRect(),o=e.clientX-t.left,s=e.clientY-t.top;console.log(`Mouse down at: (${e.clientX}, ${e.clientY})`),console.log(`Relative to container: (${o}, ${s})`),y(o,s)})),document.addEventListener("mousemove",(e=>{s.style.left=`${e.pageX}px`,s.style.top=`${e.pageY}px`})),document.addEventListener("mousedown",(e=>{s.style.left=`${e.pageX}px`,s.style.top=`${e.pageY}px`,function(e){"mousedown"===e.type&&0!==e.button||y(e.pageX,e.pageY)}(e)})),n.addEventListener("touchstart",(e=>{const t=e.touches[0],n=t.pageX,o=t.pageY;s.style.left=`${n}px`,s.style.top=`${o}px`,y(n,o)})),o.addEventListener("click",(()=>{i+=2,d.textContent=`Time: ${i}`,m()})),r.addEventListener("click",(function(){i=20,d.textContent=`Time: ${i}`,c.style.display="none",r.style.display="none",o.style.display="block",m(),l=setInterval(u,1e3),a=setInterval(m,500)}));const p=[{image:"img/famous/prince_harry.webp",leftText:"Royalty with a rebellious twist",leftAuthor:"Prince Harry",rightQuote:"You, of course, know that it’s hard being a redhead."},{image:"img/famous/lucille_ball.webp",leftText:"Icon of comedy and style.",leftAuthor:"Lucille Ball",rightQuote:"Once in his life, every man is entitled to fall madly in love with a gorgeous redhead."},{image:"img/famous/ed_sheeran.webp",leftText:"Singing his way through life with fiery locks",leftAuthor:"Ed Sheeran",rightQuote:"Being ginger is just a sign that you’re awesome."}];let g=0;const h=document.getElementById("main-image"),f=document.getElementById("left-text"),w=document.getElementById("left-author"),E=document.getElementById("right-quote");function v(e){const t=p[e];h.src=t.image,f.textContent=t.leftText,w.textContent=t.leftAuthor,E.textContent=t.rightQuote}document.getElementById("prev").addEventListener("click",(()=>{g=(g-1+p.length)%p.length,v(g)})),document.getElementById("next").addEventListener("click",(()=>{g=(g+1)%p.length,v(g)})),v(g);document.getElementById("story-form");const x=document.getElementById("generate-story"),L=document.getElementById("story-preview"),b=document.getElementById("story-text"),I=document.getElementById("story-photo");x.addEventListener("click",(()=>{const e=document.getElementById("question1").value.trim(),t=document.getElementById("question2").value.trim(),n=document.getElementById("question3").value.trim(),o=document.getElementById("photo").files[0];if(!e||!t||!n)return void alert("Please fill out all fields before generating your story!");const s=`\n\t\tWhen I first realized I was a FantaPant, it happened when ${e}.\n\t\tPeople used to say, "${t}," but now I understand that being a FantaPant is not just about words, it's a way of life.\n\t\tI feel ${n} every day and take pride in my uniqueness!\n\t`;if(b.textContent=s,o){const e=new FileReader;e.onload=e=>{I.innerHTML=`<img src="${e.target.result}" alt="FantaPant Photo" style="max-width: 100%; border-radius: 8px;">`},e.readAsDataURL(o)}else I.innerHTML="";L.style.display="block"})),document.getElementById("donateButton").addEventListener("click",(function(e){e.preventDefault();const t=document.getElementById("timmy");t&&(t.src="./img/sponsor_us/happy_timmy.webp");const n=document.getElementById("caption");n&&(n.textContent="Thanks to your support, Timmy is now safe with sunscreen!"),setTimeout((()=>{window.open("https://example.com/fantapants","_blank")}),2e3)})),window.FLS=!0,function(){e=!0;const t=document.querySelector("header.header"),n=t.hasAttribute("data-scroll-show"),o=t.dataset.scrollShow?t.dataset.scrollShow:500,s=t.dataset.scroll?t.dataset.scroll:1;let l,a=0;document.addEventListener("windowScroll",(function(e){const i=window.scrollY;clearTimeout(l),i>=s?(!t.classList.contains("_header-scroll")&&t.classList.add("_header-scroll"),n&&(i>a?t.classList.contains("_header-show")&&t.classList.remove("_header-show"):!t.classList.contains("_header-show")&&t.classList.add("_header-show"),l=setTimeout((()=>{!t.classList.contains("_header-show")&&t.classList.add("_header-show")}),o))):(t.classList.contains("_header-scroll")&&t.classList.remove("_header-scroll"),n&&t.classList.contains("_header-show")&&t.classList.remove("_header-show")),a=i<=0?0:i}))}()})();