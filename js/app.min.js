(()=>{"use strict";const e={};function t(){if(location.hash)return location.hash.replace("#","")}let o=!0,s=(e=500)=>{if(o){const t=document.querySelectorAll("[data-lp]");setTimeout((()=>{t.forEach((e=>{e.style.paddingRight=""})),document.body.style.paddingRight="",document.documentElement.classList.remove("lock")}),e),o=!1,setTimeout((function(){o=!0}),e)}},n=(e=500)=>{if(o){const t=document.querySelectorAll("[data-lp]"),s=window.innerWidth-document.body.offsetWidth+"px";t.forEach((e=>{e.style.paddingRight=s})),document.body.style.paddingRight=s,document.documentElement.classList.add("lock"),o=!1,setTimeout((function(){o=!0}),e)}};function i(){s(),document.documentElement.classList.remove("menu-open")}function a(e){setTimeout((()=>{window.FLS&&console.log(e)}),0)}e.popup=new class{constructor(e){let t={logging:!0,init:!0,attributeOpenButton:"data-popup",attributeCloseButton:"data-close",fixElementSelector:"[data-lp]",youtubeAttribute:"data-popup-youtube",youtubePlaceAttribute:"data-popup-youtube-place",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"popup__content",popupActive:"popup_show",bodyActive:"popup-show"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...t,...e,classes:{...t.classes,...e?.classes},hashSettings:{...t.hashSettings,...e?.hashSettings},on:{...t.on,...e?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.popupLogging("Прокинувся"),this.eventsPopup()}eventsPopup(){document.addEventListener("click",function(e){const t=e.target.closest(`[${this.options.attributeOpenButton}]`);if(t)return e.preventDefault(),this._dataValue=t.getAttribute(this.options.attributeOpenButton)?t.getAttribute(this.options.attributeOpenButton):"error",this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null,"error"!==this._dataValue?(this.isOpen||(this.lastFocusEl=t),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,void this.open()):void this.popupLogging(`Йой, не заповнено атрибут у ${t.classList}`);return e.target.closest(`[${this.options.attributeCloseButton}]`)||!e.target.closest(`.${this.options.classes.popupContent}`)&&this.isOpen?(e.preventDefault(),void this.close()):void 0}.bind(this)),document.addEventListener("keydown",function(e){if(this.options.closeEsc&&27==e.which&&"Escape"===e.code&&this.isOpen)return e.preventDefault(),void this.close();this.options.focusCatch&&9==e.which&&this.isOpen&&this._focusCatch(e)}.bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}.bind(this)),window.addEventListener("load",function(){window.location.hash&&this._openToHash()}.bind(this)))}open(e){if(o)if(this.bodyLock=!(!document.documentElement.classList.contains("lock")||this.isOpen),e&&"string"==typeof e&&""!==e.trim()&&(this.targetOpen.selector=e,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(this.targetOpen.selector),this.targetOpen.element){if(this.youTubeCode){const e=`https://www.youtube.com/embed/${this.youTubeCode}?rel=0&showinfo=0&autoplay=1`,t=document.createElement("iframe");t.setAttribute("allowfullscreen","");const o=this.options.setAutoplayYoutube?"autoplay;":"";if(t.setAttribute("allow",`${o}; encrypted-media`),t.setAttribute("src",e),!this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)){this.targetOpen.element.querySelector(".popup__text").setAttribute(`${this.options.youtubePlaceAttribute}`,"")}this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(t)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}})),this.targetOpen.element.classList.add(this.options.classes.popupActive),document.documentElement.classList.add(this.options.classes.bodyActive),this._reopen?this._reopen=!1:!this.bodyLock&&n(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout((()=>{this._focusTrap()}),50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}})),this.popupLogging("Відкрив попап")}else this.popupLogging("Йой, такого попапу немає. Перевірте коректність введення. ")}close(e){e&&"string"==typeof e&&""!==e.trim()&&(this.previousOpen.selector=e),this.isOpen&&o&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.youTubeCode&&this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)&&(this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML=""),this.previousOpen.element.classList.remove(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.classList.remove(this.options.classes.bodyActive),!this.bodyLock&&s(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout((()=>{this._focusTrap()}),50),this.popupLogging("Закрив попап"))}_getHash(){this.options.hashSettings.location&&(this.hash=this.targetOpen.selector.includes("#")?this.targetOpen.selector:this.targetOpen.selector.replace(".","#"))}_openToHash(){let e=document.querySelector(`.${window.location.hash.replace("#","")}`)?`.${window.location.hash.replace("#","")}`:document.querySelector(`${window.location.hash}`)?`${window.location.hash}`:null;const t=document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`)?document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`):document.querySelector(`[${this.options.attributeOpenButton} = "${e.replace(".","#")}"]`);this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null,t&&e&&this.open(e)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(e){const t=this.targetOpen.element.querySelectorAll(this._focusEl),o=Array.prototype.slice.call(t),s=o.indexOf(document.activeElement);e.shiftKey&&0===s&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||s!==o.length-1||(o[0].focus(),e.preventDefault())}_focusTrap(){const e=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():e[0].focus()}popupLogging(e){this.options.logging&&a(`[Попапос]: ${e}`)}}({});let l=(e,t=!1,o=500,s=0)=>{const n=document.querySelector(e);if(n){let l="",c=0;if(t){l="header.header";const e=document.querySelector(l);e.classList.contains("_header-scroll")?c=e.offsetHeight:(e.style.cssText="transition-duration: 0s;",e.classList.add("_header-scroll"),c=e.offsetHeight,e.classList.remove("_header-scroll"),setTimeout((()=>{e.style.cssText=""}),0))}let r={speedAsDuration:!0,speed:o,header:l,offset:s,easing:"easeOutQuad"};if(document.documentElement.classList.contains("menu-open")&&i(),"undefined"!=typeof SmoothScroll)(new SmoothScroll).animateScroll(n,"",r);else{let e=n.getBoundingClientRect().top+scrollY;e=c?e-c:e,e=s?e-s:e,window.scrollTo({top:e,behavior:"smooth"})}a(`[gotoBlock]: Юхуу...їдемо до ${e}`)}else a(`[gotoBlock]: Йой... Такого блоку немає на сторінці: ${e}`)};let c=!1;setTimeout((()=>{if(c){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),document.querySelector(".icon-menu")&&document.addEventListener("click",(function(e){e.target.closest(".icon-menu")&&document.documentElement.classList.toggle("menu-open"),e.target.closest(".menu")&&document.documentElement.classList.contains("menu-open")&&document.documentElement.classList.remove("menu-open")})),document.querySelectorAll(".did-you-know__fact-card").forEach((e=>{e.addEventListener("click",(()=>{const t=e.querySelector(".did-you-know__card-inner");t.style.transform="rotateY(180deg)"===t.style.transform?"rotateY(0deg)":"rotateY(180deg)"}))}));const r=document.getElementById("game-container"),d=document.getElementById("character");d.style.backgroundImage="url('./img/game/redhead.webp')";const u=document.createElement("div");u.classList.add("cursor"),document.body.appendChild(u);let p,h,m=30,y=!0,g=0;const f=document.createElement("div");f.style.position="absolute",f.style.top="5%",f.style.right="10%",f.style.fontSize="24px",f.style.color="#fff",f.textContent=`Time: ${m}`,r.appendChild(f);const b=document.createElement("div");b.style.position="absolute",b.style.top="50%",b.style.left="50%",b.style.transform="translate(-50%, -50%)",b.style.fontSize="36px",b.style.textAlign="center",b.style.display="none",b.textContent="Game Over",r.appendChild(b);const w=document.createElement("div");w.style.position="absolute",w.style.top="60%",w.style.left="50%",w.style.transform="translateX(-50%)",w.style.fontSize="24px",w.style.textAlign="center",w.style.display="none",r.appendChild(w);const v=document.createElement("button");v.textContent="Start Game",v.style.position="absolute",v.style.top="50%",v.style.left="50%",v.style.transform="translate(-50%, -50%)",v.style.padding="10px 20px",v.style.textAlign="center",v.style.fontSize="36px",v.style.cursor="pointer",v.style.display="block",r.appendChild(v);const E=document.createElement("button");function L(){m--,f.textContent=`Time: ${m}`,m<=0&&(_(),clearInterval(h),d.style.display="none",b.style.display="block",w.textContent=`You hit the character ${g} times!`,w.style.display="block",setTimeout((()=>{w.style.display="none",b.style.display="none",v.style.display="block",E.style.display="none"}),3e3))}function _(){clearInterval(p)}function A(){if(!y)return;const e=Math.random()*(r.offsetWidth-80),t=Math.random()*(r.offsetHeight-80);d.style.left=`${e}px`,d.style.top=`${t}px`}function C(e,t){const o=document.createElement("div");o.style.position="absolute",o.style.width="70px",o.style.height="70px",o.style.backgroundImage="url('./img/game/splash.webp')",o.style.backgroundSize="contain",o.style.backgroundRepeat="no-repeat",o.style.borderRadius="50%",o.style.pointerEvents="none",o.style.left=e-35+"px",o.style.top=t-35+"px",o.style.zIndex="9999",document.body.appendChild(o),setTimeout((()=>{o.remove()}),1e3)}E.textContent="×",E.style.position="absolute",E.style.top="10%",E.style.right="10%",E.style.padding="10px 20px",E.style.fontSize="48px",E.style.color="#ff5722",E.style.cursor="pointer",E.style.display="none",r.appendChild(E),document.addEventListener("mousedown",(e=>{C(e.pageX,e.pageY)})),document.addEventListener("mousemove",(e=>{u.style.left=`${e.pageX}px`,u.style.top=`${e.pageY}px`})),document.addEventListener("touchstart",(e=>{const t=e.touches[0],o=t.pageX,s=t.pageY;C(o,s),u.style.left=`${o}px`,u.style.top=`${s}px`})),d.addEventListener("click",(()=>{d.style.backgroundImage="url('./img/game/redhead_sunscreen.webp')",y=!1,setTimeout((()=>{d.style.backgroundImage="url('./img/game/redhead.webp')",y=!0,A()}),1e3),g++})),E.addEventListener("click",(()=>{_(),clearInterval(h),r.style.position="",r.style.top="",r.style.left="",r.style.width="",r.style.height="",r.style.zIndex="",v.style.display="block",E.style.display="none",b.style.display="none",d.style.display="none"})),v.addEventListener("click",(function(){m=30,g=0,f.textContent=`Time: ${m}`,b.style.display="none",w.style.display="none",v.style.display="none",d.style.display="block",r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100vh",r.style.zIndex="1000",A(),p=setInterval(L,1e3),h=setInterval(A,500),E.style.display="block"}));const S=[{image:"img/famous/ron_weasley.webp",name:"Ron Weasley",hint:"Best friend of Harry Potter."},{image:"img/famous/jessica_chastain.webp",name:"Jessica Chastain",hint:"Hollywood actress, starred in 'The Help'."},{image:"img/famous/ariel.webp",name:"Ariel",hint:"The Little Mermaid."},{image:"img/famous/ed_sheeran.webp",name:"Ed Sheeran",hint:"Famous singer of 'Shape of You'."},{image:"img/famous/lucille_ball.webp",name:"Lucille Ball",hint:"Classic TV star from 'I Love Lucy'."},{image:"img/famous/garfield.webp",name:"Garfield",hint:"Lazy orange cat who loves lasagna."},{image:"img/famous/bonnie_wright.webp",name:"Bonnie Wright",hint:"Played Ginny Weasley in 'Harry Potter'."},{image:"img/famous/merida.webp",name:"Merida",hint:"Scottish princess from Pixar's 'Brave'."},{image:"img/famous/julianne_moore.webp",name:"Julianne Moore",hint:"Oscar-winning actress known for 'Still Alice'."},{image:"img/famous/jessica_rabbit.webp",name:"Jessica Rabbit",hint:"From 'Who Framed Roger Rabbit?'."},{image:"img/famous/conan_obrien.webp",name:"Conan O'Brien",hint:"Iconic late-night TV host and comedian."}];let O=0,x=0;const k=document.getElementById("fanta-image"),B=document.getElementById("answer"),I=document.getElementById("feedback"),T=document.getElementById("hint"),$=document.getElementById("progress-text"),q=document.getElementById("submit-btn"),H=document.getElementById("hint-btn");function P(){O<S.length&&(k.src=S[O].image,B.value="",I.textContent="",T.textContent="",$.textContent=`${x}/${S.length} Correct`)}function z(){I.textContent=`Quiz Over! You got ${x}/${S.length} correct.`,I.classList.remove("quiz__feedback--correct","quiz__feedback--wrong"),T.textContent="",q.disabled=!0,H.disabled=!0,B.disabled=!0;document.getElementById("final-message").style.display="block";document.getElementById("join-btn").addEventListener("click",(()=>{alert("Thanks for joining the Fizz!")}))}q.addEventListener("click",(function(){const e=B.value.trim().toLowerCase();if(O<S.length){e===S[O].name.toLowerCase()?(I.textContent="✅ Correct!",I.classList.add("quiz__feedback--correct"),I.classList.remove("quiz__feedback--wrong"),x++):(I.textContent=`❌ Wrong! Correct answer: ${S[O].name}`,I.classList.add("quiz__feedback--wrong"),I.classList.remove("quiz__feedback--correct")),O++,O<S.length?setTimeout(P,2e3):setTimeout(z,2e3)}})),H.addEventListener("click",(function(){O<S.length&&(T.textContent=S[O].hint,T.classList.add("quiz__hint--visible"))})),P();document.getElementById("story-form");const R=document.getElementById("generate-story"),Y=document.getElementById("story-preview"),F=document.getElementById("story-title"),D=document.getElementById("story-text"),M=document.getElementById("story-photo");R.addEventListener("click",(()=>{const e=document.getElementById("question1").value.trim(),t=document.getElementById("question2").value.trim(),o=document.getElementById("photo").files[0];if(!e||!t)return void alert("Please fill out both fields before generating your story!");const s=`\n\t\t🌟 *Confession Begins...* 🌟\n\t\t"${t}"\n\n\t\t💭 *Reflections:* Sometimes, admitting the truth feels like opening a hidden diary—scary, yet liberating. \n\t\tRemember, every confession is a step towards understanding yourself better.\n\t\t\n\t\t🍊 *End of Confession.* 🍊\n\t`;if(F.textContent=e,D.innerHTML=s.replace(/\n/g,"<br>"),o){const e=new FileReader;e.onload=e=>{M.innerHTML=`<img src="${e.target.result}" alt="Confession Photo" style="max-width: 100%; border-radius: 8px;">`},e.readAsDataURL(o)}else M.innerHTML="";Y.style.display="block"})),document.getElementById("donateButton").addEventListener("click",(function(e){e.preventDefault();const t=document.getElementById("timmy");t&&(t.src="./img/sponsor_us/happy_timmy.webp");const o=document.getElementById("caption");o&&(o.textContent="Thanks to your support, Timmy is now safe with sunscreen!"),setTimeout((()=>{window.open("https://app.turbos.finance/#/trade?input=0x2::sui::SUI&output=0xb230169ffa466ea8b52bd11c2490d03a4aa7db42ec7d11743d88e366faf357a1::fantapants::FANTAPANTS","_blank")}),2e3)})),document.getElementById("photo").addEventListener("change",(function(e){const t=e.target.files[0];if(t){const e=new FileReader,o=document.getElementById("story-photo");e.onload=function(e){const t=document.createElement("img");t.src=e.target.result,o.innerHTML="",o.appendChild(t),o.style.display="block"},e.onerror=function(){alert("Failed to load the photo.")},e.readAsDataURL(t)}else document.getElementById("story-photo").style.display="none"})),document.getElementById("preloader").style.display="flex",setTimeout((()=>{!function(){const e=Date.now();let t=new Image;t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8fV9AAAAC0lEQVR42mP8/wcAAwAB/4CwA6oNfS4AAAAASUVORK5CYII=",t.onload=function(){Date.now()-e>200?document.getElementById("preloader").style.display="flex":(document.getElementById("preloader").style.display="none",document.querySelector(".content").style.display="block")},t.onerror=function(){document.getElementById("preloader").style.display="flex"}}()}),500),window.addEventListener("load",(()=>{setTimeout((()=>{document.getElementById("preloader").style.display="none",document.querySelector(".wrapper").style.display="block"}),1e3)})),window.FLS=!0,function(){function o(t){if("click"===t.type){const o=t.target;if(o.closest("[data-goto]")){const s=o.closest("[data-goto]"),n=s.dataset.goto?s.dataset.goto:"",a=!!s.hasAttribute("data-goto-header"),c=s.dataset.gotoSpeed?s.dataset.gotoSpeed:500,r=s.dataset.gotoTop?parseInt(s.dataset.gotoTop):0;if(e.fullpage){const t=document.querySelector(`${n}`).closest("[data-fp-section]"),o=t?+t.dataset.fpId:null;null!==o&&(e.fullpage.switchingSection(o),document.documentElement.classList.contains("menu-open")&&i())}else l(n,a,c,r);t.preventDefault()}}else if("watcherCallback"===t.type&&t.detail){const e=t.detail.entry,o=e.target;if("navigator"===o.dataset.watch){document.querySelector("[data-goto]._navigator-active");let t;if(o.id&&document.querySelector(`[data-goto="#${o.id}"]`))t=document.querySelector(`[data-goto="#${o.id}"]`);else if(o.classList.length)for(let e=0;e<o.classList.length;e++){const s=o.classList[e];if(document.querySelector(`[data-goto=".${s}"]`)){t=document.querySelector(`[data-goto=".${s}"]`);break}}e.isIntersecting?t&&t.classList.add("_navigator-active"):t&&t.classList.remove("_navigator-active")}}}if(document.addEventListener("click",o),document.addEventListener("watcherCallback",o),t()){let e;document.querySelector(`#${t()}`)?e=`#${t()}`:document.querySelector(`.${t()}`)&&(e=`.${t()}`),e&&l(e,!0,500,20)}}(),function(){c=!0;const e=document.querySelector("header.header"),t=e.hasAttribute("data-scroll-show"),o=e.dataset.scrollShow?e.dataset.scrollShow:500,s=e.dataset.scroll?e.dataset.scroll:1;let n,i=0;document.addEventListener("windowScroll",(function(a){const l=window.scrollY;clearTimeout(n),l>=s?(!e.classList.contains("_header-scroll")&&e.classList.add("_header-scroll"),t&&(l>i?e.classList.contains("_header-show")&&e.classList.remove("_header-show"):!e.classList.contains("_header-show")&&e.classList.add("_header-show"),n=setTimeout((()=>{!e.classList.contains("_header-show")&&e.classList.add("_header-show")}),o))):(e.classList.contains("_header-scroll")&&e.classList.remove("_header-scroll"),t&&e.classList.contains("_header-show")&&e.classList.remove("_header-show")),i=l<=0?0:l}))}()})();