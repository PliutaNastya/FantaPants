(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),document.querySelector(".icon-menu")&&document.addEventListener("click",(function(e){e.target.closest(".icon-menu")&&document.documentElement.classList.toggle("menu-open"),e.target.closest(".menu")&&document.documentElement.classList.contains("menu-open")&&document.documentElement.classList.remove("menu-open")})),document.querySelectorAll(".did-you-know__fact-card").forEach((e=>{e.addEventListener("click",(()=>{const t=e.querySelector(".did-you-know__card-inner");t.style.transform="rotateY(180deg)"===t.style.transform?"rotateY(0deg)":"rotateY(180deg)"}))}));const t=document.getElementById("game-container"),n=document.getElementById("character");n.style.backgroundImage="url('./img/game/redhead.webp')";const o=document.createElement("div");o.classList.add("cursor"),document.body.appendChild(o);let s,a,l=30,i=!0,d=0;const c=document.createElement("div");c.style.position="absolute",c.style.top="5%",c.style.right="10%",c.style.fontSize="24px",c.style.color="#fff",c.textContent=`Time: ${l}`,t.appendChild(c);const r=document.createElement("div");r.style.position="absolute",r.style.top="50%",r.style.left="50%",r.style.transform="translate(-50%, -50%)",r.style.fontSize="36px",r.style.textAlign="center",r.style.display="none",r.textContent="Game Over",t.appendChild(r);const m=document.createElement("div");m.style.position="absolute",m.style.top="60%",m.style.left="50%",m.style.transform="translateX(-50%)",m.style.fontSize="24px",m.style.textAlign="center",m.style.display="none",t.appendChild(m);const u=document.createElement("button");u.textContent="Start Game",u.style.position="absolute",u.style.top="50%",u.style.left="50%",u.style.transform="translate(-50%, -50%)",u.style.padding="10px 20px",u.style.textAlign="center",u.style.fontSize="36px",u.style.cursor="pointer",u.style.display="block",t.appendChild(u);const y=document.createElement("button");function p(){l--,c.textContent=`Time: ${l}`,l<=0&&(g(),clearInterval(a),n.style.display="none",r.style.display="block",m.textContent=`You hit the character ${d} times!`,m.style.display="block",setTimeout((()=>{m.style.display="none",r.style.display="none",u.style.display="block",y.style.display="none"}),3e3))}function g(){clearInterval(s)}function h(){if(!i)return;const e=Math.random()*(t.offsetWidth-80),o=Math.random()*(t.offsetHeight-80);n.style.left=`${e}px`,n.style.top=`${o}px`}function f(e,n){const o=t.getBoundingClientRect(),s=e-o.left,a=n-o.top,l=document.createElement("div");l.style.position="absolute",l.style.width="70px",l.style.height="70px",l.style.backgroundImage="url('./img/game/splash.webp')",l.style.backgroundSize="contain",l.style.backgroundRepeat="no-repeat",l.style.borderRadius="50%",l.style.pointerEvents="none",l.style.left=s-25+"px",l.style.top=a-25+"px",l.style.zIndex="9999",t.appendChild(l),setTimeout((()=>{l.remove()}),1e3)}y.textContent="×",y.style.position="absolute",y.style.top="10%",y.style.right="10%",y.style.padding="10px 20px",y.style.fontSize="48px",y.style.color="#ff5722",y.style.cursor="pointer",y.style.display="none",t.appendChild(y),document.addEventListener("mousedown",(e=>{const n=t.getBoundingClientRect();f(e.clientX-n.left,e.clientY-n.top)})),document.addEventListener("mousemove",(e=>{o.style.left=`${e.pageX}px`,o.style.top=`${e.pageY}px`})),document.addEventListener("mousedown",(e=>{o.style.left=`${e.pageX}px`,o.style.top=`${e.pageY}px`,f(e.pageX,e.pageY)})),t.addEventListener("touchstart",(e=>{const n=e.touches[0],s=n.pageX,a=n.pageY,l=t.getBoundingClientRect(),i=s-l.left,d=a-l.top;o.style.left=`${s}px`,o.style.top=`${a}px`,f(i,d)})),n.addEventListener("click",(()=>{n.style.backgroundImage="url('./img/game/redhead_sunscreen.webp')",i=!1,setTimeout((()=>{n.style.backgroundImage="url('./img/game/redhead.webp')",i=!0,h()}),1e3),d++})),y.addEventListener("click",(()=>{g(),clearInterval(a),t.style.position="",t.style.top="",t.style.left="",t.style.width="",t.style.height="",t.style.zIndex="",u.style.display="block",y.style.display="none",r.style.display="none",n.style.display="none"})),u.addEventListener("click",(function(){l=30,d=0,c.textContent=`Time: ${l}`,r.style.display="none",m.style.display="none",u.style.display="none",n.style.display="block",t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100vh",t.style.zIndex="1000",h(),s=setInterval(p,1e3),a=setInterval(h,500),y.style.display="block"}));const b=[{image:"img/famous/ron_weasley.webp",name:"Ron Weasley",hint:"Best friend of Harry Potter."},{image:"img/famous/jessica_chastain.webp",name:"Jessica Chastain",hint:"Hollywood actress, starred in 'The Help'."},{image:"img/famous/ariel.webp",name:"Ariel",hint:"The Little Mermaid."},{image:"img/famous/ed_sheeran.webp",name:"Ed Sheeran",hint:"Famous singer of 'Shape of You'."},{image:"img/famous/lucille_ball.webp",name:"Lucille Ball",hint:"Classic TV star from 'I Love Lucy'."},{image:"img/famous/garfield.webp",name:"Garfield",hint:"Lazy orange cat who loves lasagna."},{image:"img/famous/bonnie_wright.webp",name:"Bonnie Wright",hint:"Played Ginny Weasley in 'Harry Potter'."},{image:"img/famous/merida.webp",name:"Merida",hint:"Scottish princess from Pixar's 'Brave'."},{image:"img/famous/julianne_moore.webp",name:"Julianne Moore",hint:"Oscar-winning actress known for 'Still Alice'."},{image:"img/famous/jessica_rabbit.webp",name:"Jessica Rabbit",hint:"From 'Who Framed Roger Rabbit?'."},{image:"img/famous/conan_obrien.webp",name:"Conan O'Brien",hint:"Iconic late-night TV host and comedian."}];let w=0,E=0;const v=document.getElementById("fanta-image"),L=document.getElementById("answer"),x=document.getElementById("feedback"),I=document.getElementById("hint"),_=document.getElementById("progress-text"),k=document.getElementById("submit-btn"),C=document.getElementById("hint-btn");function B(){w<b.length&&(v.src=b[w].image,L.value="",x.textContent="",I.textContent="",_.textContent=`${E}/${b.length} Correct`)}function S(){x.textContent=`Quiz Over! You got ${E}/${b.length} correct.`,x.classList.remove("quiz__feedback--correct","quiz__feedback--wrong"),I.textContent="",k.disabled=!0,C.disabled=!0,L.disabled=!0;document.getElementById("final-message").style.display="block";document.getElementById("join-btn").addEventListener("click",(()=>{alert("Thanks for joining the Fizz!")}))}k.addEventListener("click",(function(){const e=L.value.trim().toLowerCase();if(w<b.length){e===b[w].name.toLowerCase()?(x.textContent="✅ Correct!",x.classList.add("quiz__feedback--correct"),x.classList.remove("quiz__feedback--wrong"),E++):(x.textContent=`❌ Wrong! Correct answer: ${b[w].name}`,x.classList.add("quiz__feedback--wrong"),x.classList.remove("quiz__feedback--correct")),w++,w<b.length?setTimeout(B,2e3):setTimeout(S,2e3)}})),C.addEventListener("click",(function(){w<b.length&&(I.textContent=b[w].hint,I.classList.add("quiz__hint--visible"))})),B();document.getElementById("story-form");const z=document.getElementById("generate-story"),T=document.getElementById("story-preview"),$=document.getElementById("story-text"),q=document.getElementById("story-photo");z.addEventListener("click",(()=>{const e=document.getElementById("question1").value.trim(),t=document.getElementById("question2").value.trim(),n=document.getElementById("question3").value.trim(),o=document.getElementById("photo").files[0];if(!e||!t||!n)return void alert("Please fill out all fields before generating your story!");const s=`\n\t\tWhen I first realized I was a FantaPant, it happened when ${e}.\n\t\tPeople used to say, "${t}," but now I understand that being a FantaPant is not just about words, it's a way of life.\n\t\tI feel ${n} every day and take pride in my uniqueness!\n\t`;if($.textContent=s,o){const e=new FileReader;e.onload=e=>{q.innerHTML=`<img src="${e.target.result}" alt="FantaPant Photo" style="max-width: 100%; border-radius: 8px;">`},e.readAsDataURL(o)}else q.innerHTML="";T.style.display="block"})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".next-btn"),t=document.querySelector(".next-btn--ready"),n=document.querySelector(".easter-egg");e.forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-next")-1,n=document.querySelector(`.fizz-way__step--${t+1}`);n&&n.classList.add("active")}))})),t.addEventListener("click",(()=>{n.classList.remove("hidden"),n.style.display="block"}))})),document.getElementById("donateButton").addEventListener("click",(function(e){e.preventDefault();const t=document.getElementById("timmy");t&&(t.src="./img/sponsor_us/happy_timmy.webp");const n=document.getElementById("caption");n&&(n.textContent="Thanks to your support, Timmy is now safe with sunscreen!"),setTimeout((()=>{window.open("https://example.com/fantapants","_blank")}),2e3)})),document.getElementById("photo").addEventListener("change",(function(e){const t=e.target.files[0];if(t){const e=new FileReader,n=document.getElementById("story-photo");e.onload=function(e){const t=document.createElement("img");t.src=e.target.result,n.innerHTML="",n.appendChild(t),n.style.display="block"},e.onerror=function(){alert("Failed to load the photo.")},e.readAsDataURL(t)}else document.getElementById("story-photo").style.display="none"})),window.FLS=!0,function(){e=!0;const t=document.querySelector("header.header"),n=t.hasAttribute("data-scroll-show"),o=t.dataset.scrollShow?t.dataset.scrollShow:500,s=t.dataset.scroll?t.dataset.scroll:1;let a,l=0;document.addEventListener("windowScroll",(function(e){const i=window.scrollY;clearTimeout(a),i>=s?(!t.classList.contains("_header-scroll")&&t.classList.add("_header-scroll"),n&&(i>l?t.classList.contains("_header-show")&&t.classList.remove("_header-show"):!t.classList.contains("_header-show")&&t.classList.add("_header-show"),a=setTimeout((()=>{!t.classList.contains("_header-show")&&t.classList.add("_header-show")}),o))):(t.classList.contains("_header-scroll")&&t.classList.remove("_header-scroll"),n&&t.classList.contains("_header-show")&&t.classList.remove("_header-show")),l=i<=0?0:i}))}()})();